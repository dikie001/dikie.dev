// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

//  PROFILE
model Profile {
  id             String   @id @default(ulid())
  firstName      String?  @default("Dickens")
  lastName       String?  @default("Omondi")
  profilePic     String?
  profession     String?  @default("Software engineer")
  greetingText   String?  @default("Hello there, I'm")
  tagline        String?
  email          String?  @default("omondidickens255@gmail.com")
  workPreference String?  @default("Open to Remote Work")
  location       String?
  availability   String?  @default("Available for Freelance Work")
  version        String?
  lastUpdated    String?
  github         String?  @default("https://github.com/dikie001")
  linkedIn       String?  @default("https://linkedin.com/in/dikie")
  X              String?
  whatsapp       String?
  facebook       String?
  updatedAt      DateTime @updatedAt
}

// ABOUT ME MODEL
model AboutMe {
  id                 String         @id @default(cuid())
  sectionTitle       String?
  currentFocus       String?
  availabilityStatus String?
  bioParagraphs      String?
  technologies       Technologies[]
  updatedAt          DateTime       @updatedAt
}

// TECHNOLOGIES AND TOOLS MODEL
model Technologies {
  id         String   @id @default(ulid())
  technology String
  aboutMe    AboutMe? @relation(fields: [aboutId], references: [id])
  aboutId    String?
}

// PROJECT MODEL
model Project {
  id          String       @id @default(ulid())
  title       String?
  url         String?
  description String?
  logo        String?
  banner      String?
  featured    Boolean
  allProjects AllProjects? @relation(fields: [projectId], references: [id])
  projectId   String
}

// PROJECTS ARRAY MODEL
model AllProjects {
  id            String    @id @default(ulid())
  totalProjects Int
  projects      Project[]
}

// SKILLS MODEL
model SKills {
  id                  String           @id @default(ulid())
  updatedAt           DateTime         @updatedAt
  databaseSkills      DatabaseSkills[]
  toolSkills          ToolSkills[]
  frontendSkills      FrontendSkills[]
  backendSkills       backendSkills[]
  frontendProficiency Int?
  backendProficiency  Int?
  toolsProficiency    Int?
  databaseProficiency Int?
}

// FRONTEND SKILLS
model FrontendSkills {
  id      String  @id @default(ulid())
  title   String?
  skill   String?
  skills  SKills? @relation(fields: [skillId], references: [id])
  skillId String
}

// BACKEND SKILLS
model backendSkills {
  id      String  @id @default(ulid())
  title   String?
  skill   String?
  skills  SKills? @relation(fields: [skillId], references: [id])
  skillId String
}

// DATABASE SKILLS 
model DatabaseSkills {
  id      String  @id @default(ulid())
  title   String?
  skill   String?
  skills  SKills? @relation(fields: [skillId], references: [id])
  skillId String
}

// TOOLS I USE
model ToolSkills {
  id      String  @id @default(ulid())
  title   String?
  skill   String?
  skills  SKills? @relation(fields: [skillId], references: [id])
  skillId String
}

// EXPERIENCE
model Experience {
  id           String         @id @default(ulid())
  role         String?
  organization String?
  period       String?
  status       String?
  description  String?
  achievements Achievements[]
}

// ACHIEVEMENTS
model Achievements {
  id           String      @id @default(ulid())
  title        String?
  experience   Experience? @relation(fields: [experienceId], references: [id])
  experienceId String
}

// MESSAGES
model Messages {
  id         String   @id @default(ulid())
  senderName String
  email      String
  subject    String
  date       DateTime @updatedAt
  content    String
  read       Boolean
}

enum VisitorStatus {
  ONLINE
  OFFLINE
}

// VISITORS
model Visitors {
  id              String        @id @default(ulid())
  visitorLocation String
  deviceUsed      String
  pagesVisited    Int
  referrer        String
  duration        String
  time            String
  status          VisitorStatus
}

enum Mode {
  DARK
  LIGHT
  SYSTEM
}

// SETTINGS
model Settings {
  id                   String   @id @default(ulid())
  TwoFAEnabled         Boolean?
  currentPassword      String?
  messageNotification  Boolean?
  weeklyAnalysisReport Boolean?
  visitorMilestones    Boolean?
  securityAlerts       Boolean?
}

// SITE SETTINGS
model SiteSettings {
  id            String   @id @default(ulid())
  title         String?
  description   String?
  // metaKeywords  Boolean?
  trackVisitors Boolean?
}
